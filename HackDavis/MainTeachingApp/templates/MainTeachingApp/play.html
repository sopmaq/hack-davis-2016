
<!DOCTYPE html>
<html lang=en>
	<head>
		<meta charset=UTF-8>

		<title>Play!</title>
		<link rel=stylesheet href=play.css %}>

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>

		<!-- Latest compiled JavaScript -->
		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
		
		<style>
<<<<<<< HEAD
			section {
				margin:0 auto;
				padding-left:50px;
			}
=======
		section
		{
			padding-left: 58px;
		}
>>>>>>> cea1762f45f36282d2d3cb9e20638f910cf0c4e9
		</style>
	</head>
	<body>
	
		<div id="header" class="jumbotron" style="text-align:center;" >
			<h2 id="textHeader"><font face="roboto-thin">The </font><font face="roboto-bold"> Game</font></h2>
		</div>
		
		<div id="goalDisplay" class="jumbotron">
			<font face="roboto-thin">
				<p class="noNewLine">Use </p>
			</font>
			<font face="roboto-bold">
				<p id="operationLbl" class="noNewLine">x </p>
			</font>
			<font face="roboto-thin">
				<p class="noNewLine">to get a result of </p>
			</font>
			<font face="roboto-medium">
				<p id="goalLbl" class="noNewLine">x</p>
			</font>
			<p class="noNewLines">
				<font face="roboto-thin"><p id="timeVal"></p></font>
			</p>
		</div>
		<div class="container">
		<center>
		<button type = "button" id = "SohamsButton" > Soham's Button </button>
		<section id=matrix>
			<section id=row1>
<<<<<<< HEAD
				<section id=0 class=container>
					<p id=p0>x</p>
				</section>
		
				<section id=1 class=container>
					<p id=p1>x</p>
				</section>
		
				<section id=2 class=container>
					<p id=p2>x</p>
=======
				<section id=box0 class=container>
						<p id=0>x</p>
					
				</section>
		
				<section id=box1 class = container>
						<p id=1>x</p>
				</section>
		
				<section id=box2 class = container>
						<p id=2>x</p>
>>>>>>> cea1762f45f36282d2d3cb9e20638f910cf0c4e9
				</section>
		
			</section>
	
			<section id=row2>
<<<<<<< HEAD
				<section id=3 class=container>
					<p id=p3>x</p>
				</section>
		
				<section id=4 class="container">
					<p id=p4>x</p>
				</section>
		
				<section id=5 class=container>
					<p id=p5>x</p>
=======
				<section id=box3 class = container>
						<p id=3>x</p>
				</section>
		
				<section id=box4 class = container>
						<p id=4>x</p>
					
				</section>
		
				<section id=box5 class = container>
						<p id=5>x</p>
>>>>>>> cea1762f45f36282d2d3cb9e20638f910cf0c4e9
				</section>
			</section>
	
			<section id=row3>
<<<<<<< HEAD
				<section id=6 class=container>
					<p id=p6>x</p>
				</section>
		
				<section id=7 class=container>
					<p id=p7>x</p>
				</section>
		
				<section id=8 class=container>
						<p id=p8>x</p>
=======
				<section id=box6 class = container>
						<p id=6>x</p>
				</section>
		
				<section id=box7 class = container>
						<p id=7>x</p>
				</section>
		
				<section id=box8 class = container>
						<p id=8>x</p>
>>>>>>> cea1762f45f36282d2d3cb9e20638f910cf0c4e9
				</section>
			</section>
			
			<br><br>
			<div id="warningMessage" class="jumbotron" style="text-align:center;">
				<p>Hmm.. that doesn't seem to be right, try again.</p>
			</div>
		</section>
		</center>

		<script>
<<<<<<< HEAD
		var score;
		
=======
		$("#SohamsButton").hide();
>>>>>>> cea1762f45f36282d2d3cb9e20638f910cf0c4e9
		var array;
		var selected;
		var selectedElems;
		var goal;
		
		var MAX_NUM = 15;
			
		var operations = ['addition', 'subtraction', 'multiplication', 'division'];
		var operationSelect = 2;
		
		var firstElem;
		var secondElem;
	
		var time = 61;
		var timerRunning = false;
		
		$("#warningMessage").hide();
		
		function getRand(){
			return Math.ceil((Math.random() * MAX_NUM) + 0.1);
		} 
		
		function updateClock()
		{
			time = time - 1;
			$("#timeVal").text(String(time));
			if (time == 55)
			{
				$("#SohamsButton").show();
			}
			if(time <= 0)
			{
				clearInterval(timer);
				window.location.replace("/processGameAnswers");
			}
		}

		function startTimer()
		{	
			if (timerRunning == false)
			{	
				timer = setInterval(updateClock, 1000);
				timerRunning = true;
			}			
		}

		function fill(){
			array = [0, 0, 0, 0, 0, 0, 0, 0, 0];
			selectedElems = [false, false, false, false, false, false, false, false, false];
			selected = 0;
			
			var i; 
			var index1 = parseInt(Math.random() * MAX_NUM);
			var index2 = parseInt(Math.random() * MAX_NUM);
			var fact1 = getRand(); 
			var fact2 = getRand();
			goal = fact1 * fact2;
			
			$("#operationLbl").text(String(operations[operationSelect]));
			$("#goalLbl").text(String(goal));
			
			array[index1] = fact1; 
			array[index2] = fact2; 
	
			if (index2 == index1) 
			{
				index2 = (index1 + 1) % 9;
			}
	
			for (i = 0; i < 9; i++)
			{
				if (i == index1)
					continue; 
				if (i == index2)
					continue; 
				array[i] = getRand(); 
			}
	
<<<<<<< HEAD
			document.getElementById("p0").innerHTML = array[0]; 
			document.getElementById("p1").innerHTML = array[1];
			document.getElementById("p2").innerHTML = array[2];
			document.getElementById("p3").innerHTML = array[3];
			document.getElementById("p4").innerHTML = array[4];
			document.getElementById("p5").innerHTML = array[5];
			document.getElementById("p6").innerHTML = array[6];
			document.getElementById("p7").innerHTML = array[7];
			document.getElementById("p8").innerHTML = array[8];
=======
			document.getElementById("0").innerHTML = array[0]; 
			document.getElementById("1").innerHTML = array[1];
			document.getElementById("2").innerHTML = array[2];
			document.getElementById("3").innerHTML = array[3];
			document.getElementById("4").innerHTML = array[4];
			document.getElementById("5").innerHTML = array[5];
			document.getElementById("6").innerHTML = array[6];
			document.getElementById("7").innerHTML = array[7];
			document.getElementById("8").innerHTML = array[8];
>>>>>>> cea1762f45f36282d2d3cb9e20638f910cf0c4e9
			return; 
			}
			
		function handleClick() {
<<<<<<< HEAD
			var currIndex = parseInt(this.id);

			if (selectedElems[currIndex] == false) {
				if (selected < 2) {
					selected += 1;
					selectedElems[currIndex] = true;
				}
			} else {
				return;
			}
			
=======
			$("#textHeader").text(this.id);
			$(this).css("background-color", "rgb(244, 179, 80)");
>>>>>>> cea1762f45f36282d2d3cb9e20638f910cf0c4e9
			if (selected == 2) {
				var firstElem;
				var indexOfFirst;
				var secondElem;
				var indexOfSecond;
			
				var computedResult;
				
				// Get the first element
				for (var i = 0; i < 9; i++) {
					if (selectedElems[i] == true) {
						firstElem = parseInt(array[i]);
						indexOfFirst = i;
						break;
					}
				}
				
				for (var j = indexOfFirst + 1; j < 9; i++) {
					if (selectedElems[j] == true) {
						secondElem = parseInt(array[j]);
						indexOfSecond = j;
						break;
					}
				}
								
				if (operationSelect == 2) {
					// Multiply
					computedResult = firstElem * secondElem;
					$("#textHeader").text("The result: " + computedResult);

				}
				
				if (computedResult != goal) {
					$("#warningMessage").show();
					setTimeout(function() {
    					$('#warningMessage').fadeOut('fast');
					}, 3000); // <-- time in milliseconds
				} else {
					score += time;
					$("#textHeader").text("That's right!");

				}
				
				selected = 0;
				fill();
			}
			
		}
		
		// Add an event listener to all of the divs
		document.getElementById("0").addEventListener("click", handleClick);
		document.getElementById("1").addEventListener("click", handleClick);
		document.getElementById("2").addEventListener("click", handleClick);
		document.getElementById("3").addEventListener("click", handleClick);
		document.getElementById("4").addEventListener("click", handleClick);
		document.getElementById("5").addEventListener("click", handleClick);
		document.getElementById("6").addEventListener("click", handleClick);
		document.getElementById("7").addEventListener("click", handleClick);
		document.getElementById("8").addEventListener("click", handleClick);

		startTimer()
		fill();
		</script> 
	</body>
</html>
