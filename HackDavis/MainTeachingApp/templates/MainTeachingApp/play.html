{% load staticfiles %}
<!DOCTYPE html>
<html lang=en>
	<head>
		<meta charset=UTF-8>

		<title>Play!</title>
		<link rel=stylesheet href={% static 'MainTeachingApp/play.css' %}>

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>

		<!-- Latest compiled JavaScript -->
		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	</head>
	<body>
	
		<div id="header" class="jumbotron" style="text-align:center;" >
			<h2 id="textHeader"><font face="roboto-thin">The </font><font face="roboto-bold"> Game</font></h2>
		</div>
		
		<div id="goalDisplay" class="jumbotron">
			<font face="roboto-thin">
				<p class="noNewLine">Use </p>
			</font>
			<font face="roboto-bold">
				<p id="operationLbl" class="noNewLine">x </p>
			</font>
			<font face="roboto-thin">
				<p class="noNewLine">to get a result of </p>
			</font>
			<font face="roboto-medium">
				<p id="goalLbl" class="noNewLine">x</p>
			</font>
			<p class="noNewLines">
				<font face="roboto-thin"><p id="timeVal"></p></font>
			</p>
		</div>
		<div class="container">
		<section id=matrix>
			<section id=row1>
				<section id=box11>
					<p id=11>x</p>
				</section>
		
				<section id=box12>
					<p id=12>x</p>
				</section>
		
				<section class=box13>
					<p id=13>x</p>
				</section>
		
			</section>
	
			<section id=row2>
				<section id=box21>
					<p id=21>x</p>
				</section>
		
				<section id=box22>
					<p id=22>x</p>
				</section>
		
				<section id=box23>
					<p id=23>x</p>
				</section>
			</section>
	
			<section id=row3>
				<section id=box31>
					<p id=31>x</p>
				</section>
		
				<section id=box32>
					<p id=32>x</p>
				</section>
		
				<section id=box33>
					<p id=33>x</p>
				</section>
			</section>
		</section>

		<script>
		function getRand(){
			return Math.ceil((Math.random() * MAX_NUM) + 0.1);
		} 
		
		function updateClock()
		{
			time = time - 1;
			$("#timeVal").text(String(time));
			if(time <= 0)
			{
				clearInterval(timer);
				window.location.replace("/processGameAnswers");
			}
		}

		function startTimer()
		{	
			if (timerRunning == false)
			{	
				timer = setInterval(updateClock, 1000);
				timerRunning = true;
			}			
		}

		function fill(){
			array = [0, 0, 0, 0, 0, 0, 0, 0, 0];
			var i; 
			var index1 = parseInt(Math.random() * MAX_NUM);
			var index2 = parseInt(Math.random() * MAX_NUM); 

			
			array[index1] = fact1; 
			array[index2] = fact2; 
	
			if (index2 == index1) 
			{
				index2 = (index1 + 1) % 9;
			}
	
			for (i = 0; i < 9; i++)
			{
				if (i == index1)
					continue; 
				if (i == index2)
					continue; 
				array[i] = getRand(); 
			}
	
			document.getElementById("11").innerHTML = array[0]; 
			document.getElementById("12").innerHTML = array[1];
			document.getElementById("13").innerHTML = array[2];
			document.getElementById("21").innerHTML = array[3];
			document.getElementById("22").innerHTML = array[4];
			document.getElementById("23").innerHTML = array[5];
			document.getElementById("31").innerHTML = array[6];
			document.getElementById("32").innerHTML = array[7];
			document.getElementById("33").innerHTML = array[8];
			return; 
			}
			
		var MAX_NUM = 15;
			
		var operations = ['addition', 'subtraction', 'multiplication', 'division'];
		var operationSelect = 2;
	
		var time = 61;
		var timerRunning = false;
		
		var fact1 = getRand(); 
		var fact2 = getRand();
		var goal = fact1 * fact2; 
		
		$("#operationLbl").text(String(operations[operationSelect]));
		$("#goalLbl").text(String(goal)); 

		startTimer()
		fill();
		</script> 
	</body>
</html>
